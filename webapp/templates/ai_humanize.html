{% extends "base.html" %}

{% block title %}AI Text Humanizer{% endblock %}

{% block content %}
<h2> AI Text Humanizer</h2>

<p style="font-size: 18px; margin-bottom: 30px;">
    Transform AI-generated text into natural, human-like content. Remove robotic patterns and make your text more engaging and authentic.
</p>

{% if result %}
    {% if result.success %}
    <div class="result success">
        <div class="result-label">
            <strong> Text Humanized Successfully!</strong>
            <br>
            <small>Style: {{ result.style.title() }} | Original: {{ result.original_words }} words → Humanized: {{ result.humanized_words }} words</small>
        </div>
        
        <div style="margin-top: 20px;">
            <div style="background: #fff; padding: 15px; border-radius: 5px; margin-bottom: 15px;">
                <h4 style="color: #666; margin-bottom: 10px;"> Original Text:</h4>
                <p style="color: #333; line-height: 1.8; white-space: pre-wrap;">{{ result.original }}</p>
            </div>
            
            <div style="background: #e8f5e9; padding: 15px; border-radius: 5px; border: 2px solid #4caf50;">
                <h4 style="color: #2e7d32; margin-bottom: 10px;"> Humanized Text:</h4>
                <p style="color: #1b5e20; line-height: 1.8; white-space: pre-wrap; font-weight: 500;">{{ result.humanized }}</p>
            </div>
            
            <div style="margin-top: 15px; text-align: center;">
                <button onclick="copyToClipboard()" style="background: #4caf50; padding: 10px 25px;">
                     Copy Humanized Text
                </button>
            </div>
        </div>
    </div>
    
    <script>
        function copyToClipboard() {
            const text = `{{ result.humanized }}`;
            navigator.clipboard.writeText(text).then(() => {
                alert(' Copied to clipboard!');
            }).catch(err => {
                alert(' Failed to copy: ' + err);
            });
        }
    </script>
    {% else %}
    <div class="result error">
        <div class="result-label">
            <strong>Error Processing Text</strong>
        </div>
        <div class="result-output">
             {{ result.error }}
        </div>
        <p style="margin-top: 15px; font-size: 14px;">
            Please check your OpenAI API key in the .env file and ensure you have API credits available.
        </p>
    </div>
    {% endif %}
{% endif %}

<div class="section">
    <h3> Humanize Your Text</h3>
    <p>Paste your AI-generated or robotic text below, select a writing style, and let AI transform it into natural, human-like content.</p>
    
    <form method="post" action="/ai-humanize/process">
        <div class="form-group">
            <label for="text">Enter text to humanize:</label>
            <textarea 
                id="text" 
                name="text" 
                rows="8" 
                placeholder="Paste your AI-generated or robotic text here...&#10;&#10;Example:&#10;The implementation of advanced algorithms facilitates the optimization of user experience parameters through systematic analysis of engagement metrics and behavioral patterns."
                required
                style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 5px; font-size: 16px; font-family: inherit; resize: vertical;"
            ></textarea>
            <small style="color: #666; margin-top: 5px; display: block;">
                Maximum recommended: 500 words
            </small>
        </div>
        
        <div class="form-group">
            <label for="style">Writing style:</label>
            <select id="style" name="style" required>
                <option value="natural">Natural - General human-like writing</option>
                <option value="casual">Casual - Friendly and conversational</option>
                <option value="professional">Professional - Business appropriate</option>
                <option value="creative">Creative - Engaging and expressive</option>
                <option value="simple">Simple - Easy to understand</option>
            </select>
            <small style="color: #666; margin-top: 5px; display: block;">
                Choose the tone that best fits your needs
            </small>
        </div>
        
        <button type="submit"> Humanize Text</button>
    </form>
</div>

<div class="section" style="background: #e3f2fd;">
    <h3> How It Works</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 15px;">
        <div style="background: white; padding: 15px; border-radius: 5px;">
            <h4 style="color: #1976d2; margin-bottom: 10px;">1⃣ Analyze</h4>
            <p>AI analyzes your text to identify robotic patterns, repetitive structures, and unnatural phrasing.</p>
        </div>
        <div style="background: white; padding: 15px; border-radius: 5px;">
            <h4 style="color: #1976d2; margin-bottom: 10px;">2⃣ Transform</h4>
            <p>The text is rewritten using natural language patterns, varied sentence structures, and human-like expressions.</p>
        </div>
        <div style="background: white; padding: 15px; border-radius: 5px;">
            <h4 style="color: #1976d2; margin-bottom: 10px;">3⃣ Refine</h4>
            <p>Final touches add personality, flow, and authenticity while preserving your original meaning.</p>
        </div>
    </div>
</div>

<div class="section" style="background: #fff3e0;">
    <h3> Tips for Best Results</h3>
    <ul style="padding-left: 20px; margin-top: 10px; line-height: 2;">
        <li><strong>Keep it focused:</strong> Shorter texts (200-500 words) get better results</li>
        <li><strong>Be specific:</strong> Choose the style that matches your target audience</li>
        <li><strong>Review output:</strong> Always review and personalize the humanized text</li>
        <li><strong>Iterate:</strong> Try different styles to find what works best</li>
        <li><strong>Context matters:</strong> More context in your original text = better humanization</li>
    </ul>
</div>

<div class="section">
    <h3> Writing Styles Explained</h3>
    <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
        <thead>
            <tr style="background: #667eea; color: white;">
                <th style="padding: 12px; text-align: left;">Style</th>
                <th style="padding: 12px; text-align: left;">Best For</th>
                <th style="padding: 12px; text-align: left;">Example Use Case</th>
            </tr>
        </thead>
        <tbody>
            <tr style="background: #f8f9fa;">
                <td style="padding: 12px;"><strong>Natural</strong></td>
                <td style="padding: 12px;">General purpose writing</td>
                <td style="padding: 12px;">Blog posts, articles, general content</td>
            </tr>
            <tr>
                <td style="padding: 12px;"><strong>Casual</strong></td>
                <td style="padding: 12px;">Social media, personal blogs</td>
                <td style="padding: 12px;">Instagram captions, tweets, personal stories</td>
            </tr>
            <tr style="background: #f8f9fa;">
                <td style="padding: 12px;"><strong>Professional</strong></td>
                <td style="padding: 12px;">Business communication</td>
                <td style="padding: 12px;">Emails, reports, business content</td>
            </tr>
            <tr>
                <td style="padding: 12px;"><strong>Creative</strong></td>
                <td style="padding: 12px;">Marketing, storytelling</td>
                <td style="padding: 12px;">Ad copy, creative writing, engaging content</td>
            </tr>
            <tr style="background: #f8f9fa;">
                <td style="padding: 12px;"><strong>Simple</strong></td>
                <td style="padding: 12px;">Educational, explanatory</td>
                <td style="padding: 12px;">Tutorials, guides, explanations</td>
            </tr>
        </tbody>
    </table>
</div>

<div class="section" style="background: linear-gradient(135deg, #667eea20 0%, #764ba220 100%);">
    <h3> Privacy & Security</h3>
    <p>Your text is processed securely through OpenAI's API. The text is:</p>
    <ul style="padding-left: 20px; margin-top: 10px;">
        <li> Sent over encrypted HTTPS connection</li>
        <li> Not stored on our servers</li>
        <li> Processed according to OpenAI's privacy policy</li>
        <li> Only used for the humanization request</li>
    </ul>
    <p style="margin-top: 15px;">
        <small>Note: This feature requires an OpenAI API key and consumes API credits based on text length.</small>
    </p>
</div>

<div class="example" style="margin-top: 30px;">
    <strong> Example Transformation:</strong>
    <div style="margin-top: 15px;">
        <div style="background: #fff; padding: 15px; border-left: 4px solid #ff9800; margin-bottom: 10px;">
            <strong>Before (AI-like):</strong>
            <p style="margin-top: 10px; color: #666;">
                "The implementation of advanced algorithms facilitates the optimization of user experience parameters through systematic analysis of engagement metrics and behavioral patterns."
            </p>
        </div>
        <div style="background: #e8f5e9; padding: 15px; border-left: 4px solid #4caf50;">
            <strong>After (Human-like):</strong>
            <p style="margin-top: 10px; color: #2e7d32;">
                "We use smart technology to make your experience better by looking at how people use the platform and what they enjoy most."
            </p>
        </div>
    </div>
</div>

<style>
textarea:focus {
    outline: none;
    border-color: #667eea;
}

table {
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

tbody tr {
    transition: background-color 0.2s;
}

tbody tr:hover {
    background-color: rgba(102, 126, 234, 0.1) !important;
}
</style>
{% endblock %}